---
title: clickhouse
toc: true
date: 2021-11-15 09:54:31
tags:
  - big data
  - olap
  - database
---

# Clickhouse 的特性

clickhouse 里有一些关键概念（[clickhouse 特性](https://clickhouse.com/docs/zh/introduction/distinctive-features/)）：

## 列式存储

> 在一个真正的列式数据库管理系统中，除了数据本身外不应该存在其他额外的数据

----> 固定长度数值类型

## 数据压缩

有通用压缩编解码器，也有专用编解码器

## 向量引擎

按向量（列的一部分）进行处理，而不是按行

## 近似计算

> ClickHouse提供各种各样在允许牺牲数据精度的情况下对查询进行加速的方法：
>
> 1. 用于近似计算的各类聚合函数，如：distinct values, medians, quantiles
> 2. 基于数据的部分样本进行近似查询。这时，仅会从磁盘检索少部分比例的数据。
> 3. 不使用全部的聚合条件，通过随机选择有限个数据聚合条件进行聚合。这在数据聚合条件满足某些分布条件下，在提供相当准确的聚合结果的同时降低了计算资源的使用。

1. 基于样本计算
2. 不使用全部的聚合条件？？？？？？



# Q&A

- [ ] 近似计算，不使用全部的聚合条件，结果偏差会不会太大？
- [ ] 向量引擎原理？向量怎么理解？
